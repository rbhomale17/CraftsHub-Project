<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <!-- <link rel="stylesheet" href="./styles/dropdown.css" /> -->
    <link rel="stylesheet" href="./styles/index.css" />
    
    <link rel="stylesheet" href="./styles/cart.css" />
  </head>
  <body>
    <div id="discount">GET RS 50 OFF ON ORDERS ABOVE RS 100</div>
    <nav class="navbar">
      <div class="top-nav">
        <div class="logo">
          <a href="./index.html"><img src="./2.logos.jpg" alt="" /></a>
        </div>
        <div class="search-bar">
          <div class="title">SEARCH</div>
          <input
            type="search"
            name=""
            id="search"
            placeholder="Search here for products in Kolkata"
          />
          <div class="search-icon">
            <i class="fa fa-search"></i>
          </div>
        </div>
        <div class="nav-buttons">
          <a href="./sign.html" id="sign-in"
            ><i class="fa fa-user"></i> Sign In / Register</a
          >
          <a href="./wishlist.html">
            <i class="fa-regular fa-heart"></i> Wishlist</a
          >
          <a href="./Cart.html">
            <i class="fa-solid fa-cart-shopping"></i>Cart</a
          >
        </div>
      </div>
      <div class="bottom-nav">
        <a href="#">Stores Near Me</a>
        <a href="#">All Products</a>
        <a href="#">Fashion</a>
        <a href="#">Beauty & Personal Care</a>
        <a href="#">Home Decor</a>
        <a href="">Electronics</a>
      </div>
    </nav>

    <div class="nav">
      <div id="product-container" style="display: none">
        <!-- Here Append All the cart Products  -->
      </div>

      <div class="checkout">
        <h1>Order Sumary</h1>
        <div class="details">
          <div>
            <div>
              <p>Original Price</p>
            </div>
            <div id="originalprice">0</div>
          </div>
          <hr />
          <div>
            <div>
              <p>Savings 5%</p>
            </div>
            <div id="savings">0</div>
          </div>
          <hr />
          <div>
            <div><p>Delivery charges</p></div>
            <div id="delivery">Free</div>
          </div>
          <hr />
          <div>
            <div>Taxes 10%</div>
            <div id="tax">0</div>
          </div>
          <hr />
          <div>
            <div>Total Price</div>
            <div id="total">0</div>
          </div>
        </div>
      </div>

      <div id="form">
        <form action="">
          <h1>Customer Details</h1>
          <input type="text" placeholder=" Owner name" id="oname" required>
          <input type="text" placeholder="  Home Address"  id="address"/>
          <!-- <input type="text" placeholder="  LandMarks"  id="landmarks"/> -->
          <!-- <input type="text" placeholder="  Locality"  id="locality"/> -->
          <input type="text" placeholder="  City"  id="city"/>
          <input type="text" placeholder="  State"  id="state"/>
          <input type="number" placeholder="  Pincode" id="pincode" />
          <input type="number" placeholder="  Phone No" id="number" />
          <div id="check">
            <button id="submit">Submit</button>
          </div>
          
        </form>
      </div>

      <div id="payment">
        <h1>Payment Method</h1>
        <div><input type="checkbox" />UPI Pay</div>
        <div><input type="checkbox" />Pay With Debit/Credit/ATM cards</div>
        <div><input type="checkbox" />EMI Available</div>
        <div><input type="checkbox" />Cash On Delivery</div>
        <div id="check">
          <a href="./placeorder.html" ><button >continue</button></a>
        </div>
      </div>
    </div>

    <div id="f-main">
      <footer>
        <div class="f-cont">
          <div class="f-row">
            <div class="col" id="about">
              <h3>About Us</h3>
              <p>
                India's most convenient online grocery channel Buyerapp Fresh
                and Smart makes your grocery shopping even simpler. We offer you
                the convenience of shopping for everything that you need for
                your home - be it fresh fruits & vegetables, rice, dals, oil,
                packaged food, dairy item, frozen, pet food, household cleaning
                items & personal care products from a single virtual store.
              </p>
              <div class="s-media">
                <a href=""><i class="fa fa-facebook"></i></a>
                <a href=""><i class="fa fa-instagram"></i></a>
                <a href=""><i class="fa fa-twitter"></i></a>
                <a href=""><i class="fa fa-youtube"></i></a>
              </div>
            </div>
            <div class="col" id="company">
              <h3>OUR COMPANY</h3>
              <div class="link">
                <a href="">About Us</a>
                <a href="">Contact Us</a>
              </div>
            </div>
            <div class="col" id="category">
              <h3>TOP CATEGORIES</h3>
              <div class="link">
                <a href="">Fashion</a>
                <a href="">Electronics</a>
                <a href="">Grocery</a>
              </div>
            </div>
            <div class="col" id="policy">
              <h3>POLICIES & INFO</h3>
              <div class="link">
                <a href="">Privacy Policy</a>
                <a href="">SUPPORT</a>
                <a href="">For Help, email to care@craftsvilla.com</a>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </body>
  
  <script>
    // Write all necessery JS here

    let CartContainer = document.getElementById("product-container");

    let Cart = JSON.parse(localStorage.getItem("cart")) || [];

    function DisplayProduct() {
      let originalprice = document.getElementById("originalprice");
      let savings = document.getElementById("savings");
      let delivery = document.getElementById("delivery");
      let tax = document.getElementById("tax");
      let total = document.getElementById("total");

      CartContainer.innerHTML = "";

      Cart.forEach((product) => {
        let image = document.createElement("img");
        let details = document.createElement("p");
        let price = document.createElement("h3");
        let Remove = document.createElement("button");
        let Increase = document.createElement("button");
        let Decrease = document.createElement("button");
        let card = document.createElement("div");
        let quantity = document.createElement("span");

        image.src = product.image;
        details.textContent = product.title;
        price.textContent = product.price;
        Remove.textContent = "Remove";
        Increase.textContent = "+";
        Decrease.textContent = "-";
        quantity.textContent = product.quantity;

        Decrease.addEventListener("click", () => {
          if (product.quantity > 1) {
            product.quantity--;
            localStorage.setItem("cart", JSON.stringify(Cart));
            DisplayProduct();
          }
        });
        Increase.addEventListener("click", () => {
          product.quantity++;
          localStorage.setItem("cart", JSON.stringify(Cart));
          DisplayProduct();
        });
        Remove.addEventListener("click", () => {
          Cart = Cart.filter((ele) => {
            return ele.id !== product.id;
          });
          localStorage.setItem("cart", JSON.stringify(Cart));
          DisplayProduct();
        });
        card.append(
          image,
          details,
          price,
          Increase,
          quantity,
          Decrease,
          Remove
        );
        CartContainer.append(card);
      });

      let sum = 0;
      for (let i = 0; i < Cart.length; i++) {
        sum += Cart[i].price * Cart[i].quantity;
      }
      originalprice.textContent = Math.floor(sum);
      savings.textContent = Math.floor(sum * 0.05);
      delivery.textContent = sum;
      tax.textContent = Math.floor(sum * 0.1);

      total.textContent = eval(Math.floor(sum - sum * 0.05 + sum * 0.1));
    }

    DisplayProduct();

    // let Total = document.getElementById("cartTotal");
    // // Total.innerText = Cart.length;

    // let user = document.querySelector(".signin");
    // user.onclick = () => {
    //   location.href = "./login.html";
    // };
    // let order = document.querySelector(".orders");
    // order.onclick = () => {
    //   location.href = "./wish.html";
    // };

    // let bag = document.querySelector(".bag");
    // bag.onclick = () => {
    //   location.href = "/Cart.html";
    // };

    // Write all necessery JS here
  </script>
  <script src="/script/trackorder.js"></script>
</html>
