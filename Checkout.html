<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/styles/checkout.css">
</head>
<body>

    <div class="nav">
        <div id="product-container" style="display: none;">
          <!-- Here Append All the cart Products  -->
        </div>
    
        <div class="checkout">
          <h1>Order Sumary</h1>
          <div class="details">
            <div>
              <div>
                <p>Original Price</p>
              </div>
              <div id="originalprice">0</div>
            </div>
            <hr />
            <div>
              <div>
                <p>Savings 5%</p>
              </div>
              <div id="savings">0</div>
            </div>
            <hr />
            <div>
    
              <div><p>Delivery charges</p></div>
              <div id="delivery">Free</div>
    
            </div>
            <hr />
            <div>
              <div>Taxes 10%</div>
              <div id="tax">0</div>
            </div>
            <hr />
            <div>
              <div>Total Price</div>
              <div id="total">0</div>
            </div>
          </div>
    
        </div>
    
        <div id="form">
          <form action="">
            <h1>Customer Details</h1>
            <input type="text" placeholder="  Home Address" required>
            <input type="text" placeholder="  LandMarks" required>
            <input type="text" placeholder="  Locality" required>
            <input type="text" placeholder="  City" required>
            <input type="text" placeholder="  State" required>
            <input type="number" placeholder="  Pincode" required>
            <input type="number" placeholder="  Phone No" required>
            <button>Submit</button>
    
          </form>
        </div>
    
        <div id="payment">
          <h1>Payment Method</h1>
          <div><input type="checkbox">UPI Pay</div>
          <div><input type="checkbox">Pay With Debit/Credit/ATM cards </div>
          <div><input type="checkbox">EMI Available</div>
          <div><input type="checkbox">Cash On Delivery</div>
          <button><a href="./placeorder.html">Continue</a></button>
        </div>
    
      </div>

</body>
<script>
  // Write all necessery JS here

  let CartContainer = document.getElementById("product-container");

  let Cart = JSON.parse(localStorage.getItem("cart")) || [];

  function DisplayProduct() {
    let originalprice = document.getElementById("originalprice");
    let savings = document.getElementById("savings");
    let delivery = document.getElementById("delivery");
    let tax = document.getElementById("tax");
    let total = document.getElementById("total");

    CartContainer.innerHTML = "";

    Cart.forEach((product) => {
      let image = document.createElement("img"); 
      let details = document.createElement("p");
      let price = document.createElement("h3");
      let Remove = document.createElement("button");
      let Increase = document.createElement("button");
      let Decrease = document.createElement("button");
      let card = document.createElement("div");
      let quantity = document.createElement("span");

      image.src = product.image;
      details.textContent = product.title;
      price.textContent = product.price;
      Remove.textContent = "Remove";
      Increase.textContent = "+";
      Decrease.textContent = "-";
      quantity.textContent = product.quantity;

      Decrease.addEventListener("click", () => {
        if (product.quantity > 1) {
          product.quantity--;
          localStorage.setItem("cart", JSON.stringify(Cart));
          DisplayProduct();
        }
      });
      Increase.addEventListener("click", () => {
        product.quantity++;
        localStorage.setItem("cart", JSON.stringify(Cart));
        DisplayProduct();
      });
      Remove.addEventListener("click", () => {
        Cart = Cart.filter((ele) => {
          return ele.id !== product.id;
        });
        localStorage.setItem("cart", JSON.stringify(Cart));
        DisplayProduct();
      });
      card.append(
        image,
        details,
        price,
        Increase,
        quantity,
        Decrease,
        Remove
      );
      CartContainer.append(card);
    });

    let sum = 0;
    for (let i = 0; i < Cart.length; i++) {
      sum += Cart[i].price * Cart[i].quantity;
    }
    originalprice.textContent = Math.floor(sum);
      savings.textContent = Math.floor(sum * 0.05);
      delivery.textContent = sum;
      tax.textContent = Math.floor(sum * 0.1);

      total.textContent = eval(Math.floor(sum - sum * 0.05 + sum * 0.1));
    }

  DisplayProduct();






  let Total = document.getElementById("cartTotal");
  Total.innerText = Cart.length


  let user = document.querySelector(".signin");
  user.onclick = () => {
    location.href = "./login.html";
  };
  let order = document.querySelector(".orders");
  order.onclick = () => {
    location.href = "./wish.html";
  };

  let bag = document.querySelector(".bag");
  bag.onclick = () => {
    location.href = "/Cart.html";
  };

  // Write all necessery JS here
</script>

</html>